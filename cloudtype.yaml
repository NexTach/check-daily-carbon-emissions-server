name: check-daily-carbon-emissions
app: python
options:
  env:
    - name: DJANGO_SECRET_KEY
      value: "your-secret-key"
    - name: DB_NAME
      value: "check_daily_carbon_emissions"
    - name: DB_USER
      value: "root2"
    - name: DB_PASSWORD
      value: "1234"
    - name: DB_HOST
      value: "svc.sel5.cloudtype.app"
    - name: DB_PORT
      value: "30001"
    - name: DJANGO_DEBUG
      value: "True"
    - name: CORS_ORIGIN_ALLOW_ALL
      value: "True"
    - name: CORS_ALLOW_CREDENTIALS
      value: "True"
    - name: ALLOWED_HOSTS
      value: "*"
  python:
    version: "3.11"
    requirements: requirements.txt
    startCommand: |
      python manage.py migrate
      python manage.py collectstatic --no-input
      gunicorn configs.wsgi:application --bind 0.0.0.0:8000 --workers 3 --timeout 120 --reload
